define(["jquery","jqueryui","underscore","backbone"],function(a,e,b,c){var d=c.View.extend({searchActorsResultArray:[],searchRequest:null,onClickSortButton:null,selectedItem:null,searchType:"actor",initialize:function(f){b.bindAll(this,"onSearchRequest","updateViewData","onSelectAutoCompleteItem","setInputText","getInputText","selectedRadioButton");this.searchInputElement=a("#"+f.searchInputId);this.searchRadioButtonName=f.searchRadioButtonName;this.searchRadioButtonElement=a("input[name='"+this.searchRadioButtonName+"']");this.searchButtonElement=a("#"+f.searchButtonName)},render:function(){this.addAutocompleteToQueryInput();this.addChangeToRadioButton();this.addClickToSearchButton()},updateViewData:function(g,h){this.searchType=h;this.searchInputElement.val(g);var f=a('input:radio[name="'+this.searchRadioButtonName+'"][value="'+this.searchType+'"]');f.prop("checked",true)},setInputText:function(f){this.searchInputElement.val(f)},getInputText:function(){return this.searchInputElement.val()},addAutocompleteToQueryInput:function(){var f=this;this.searchInputElement.autocomplete({minLength:3,source:f.onSearchRequest,select:f.onSelectAutoCompleteItem})},addChangeToRadioButton:function(){this.searchRadioButtonElement.click(this.selectedRadioButton)},addClickToSearchButton:function(){this.searchButtonElement.click(this.selectedRadioButton)},selectedRadioButton:function(){this.triggerAutocompleteChangeEvent();var f=a('input:radio[name="'+this.searchRadioButtonName+'"]:checked').val();if(f=="actor"){this.selectedActorOption()}else{this.selectedMovieOption()}},selectedActorOption:function(){this.searchType="actor";this.triggerAutocompleteChangeEvent()},selectedMovieOption:function(){this.searchType="movie";this.triggerAutocompleteChangeEvent()},triggerAutocompleteChangeEvent:function(){this.searchInputElement.autocomplete("search")},onSelectAutoCompleteItem:function(f,g){this.setInputText(g.item.label);this.onSelectedItem(g.item.id,this.searchType)},onSelectedItem:function(f,g){if(this.selectedItem!=null){this.selectedItem(f,g)}},onSearchRequest:function(g,h){var f=this.searchInputElement;if(this.searchRequest!=null){this.searchRequest(f.val(),this.searchType,h)}},hide:function(){this.$el.fadeOut(100)},show:function(){this.$el.fadeIn(100)}});return d});